<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <html lang="en">
    <title>Contact</title>
    <!---------------------------- bootstrap --------------------->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <!---------------------------- css & js --------------------->
    <link rel="stylesheet" type="text/css" href="contact.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <!---------------------------- fav icon --------------------->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,700;0,900;1,300&display=swap"
        rel="stylesheet">
    <!---------------------------- fonts --------------------->
    <script src="https://kit.fontawesome.com/f179b30ed1.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="row">
        <img src="imgs/V (1).jpg" alt="" class="side_img col-4">
        <div class="col">
            <div class="contact_header">
                <div class="vertical_yellow_box"> Contact Us</div>
            </div>
            <div class="contact_input_section">
                <p class="vertical_yellow_box contact_input_section_para">
                    Feel free to reach out to us at any time. Whether you have questions about our properties, want to
                    schedule a viewing, or simply need assistance, our team is here to help. You can contact us via
                    phone, email, or by filling out the contact form on our website. We look forward to hearing from you
                    and assisting you with all of your real estate needs.
                </p>
                <div class="input_container">

                    <input type="text" class="input_box" placeholder="Your user name" value="" id="name"><br>
                    <input type="text" class="input_box" placeholder="Your e-mail" value="" id="email"><br>
                    <input type="password" class="input_box mb-3" placeholder="Your password" value="" id="pwd"><br>
                    <textarea class="input_box" name="message" id="myTextarea" cols="30" rows="1"
                        placeholder="Your message"></textarea><br>
                    <button class="submit_btn" id="submit_btn">Send</button>
                </div>
            </div>
        </div>
    </div>
    <div class="contact_section" id="contact_section">
        <div class="contact_section_body row">
            <div class="infos col-6">
                <h4 class="contact_infos vertical_white_box">+216 86.321.123</h4>
                <h4 class="contact_infos vertical_white_box">+216 76.121.123</h4>
                <h4 class="contact_infos vertical_white_box">Mahmoud's agency</h4>
                <h4 class="contact_infos vertical_white_box">Mahmoudsagency@gmail.com</h4>
            </div>
            <div class="map col-6">
                <img src="imgs/map.jpeg" alt="" class="map_img" id="map_img">
                <div class="map_text">22 Rue Habib Bourgiba Tunis, Tunisia</div>
            </div>
        </div>
    </div>
    <div class="">
        <i class="fa-solid fa-house home_btn" id="home_btn" title="exit"></i>
    </div>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
        import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";


        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDGO6WpPcxlyPH0ZkBcJb9viPaePzFYuvc",
            authDomain: "real-eastate-25452.firebaseapp.com",
            projectId: "real-eastate-25452",
            storageBucket: "real-eastate-25452.appspot.com",
            messagingSenderId: "997789363516",
            appId: "1:997789363516:web:64732832328adcfebc0239"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const auth = getAuth();

        document.getElementById("submit_btn").addEventListener("click", function (e) {
            e.preventDefault();

            // Get user details
            var username = document.getElementById("name").value;
            var email = document.getElementById("email").value;
            var password = document.getElementById("pwd").value;

            // Sign in with email and password
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in successfully
                    // Get the message from textarea
                    var message = document.getElementById("myTextarea").value;

                    // Push message to the database
                    const messageRef = push(ref(db, 'messages'));
                    set(messageRef, {
                        username: username,
                        email: email,
                        message: message
                    });

                    alert("Thank you " + username + " for your message!");
                    // Clear input fields
                    document.getElementById("name").value = "";
                    document.getElementById("email").value = "";
                    document.getElementById("pwd").value = "";
                    document.getElementById("myTextarea").value = "";
                })
                .catch((error) => {
                    // Handle errors
                    console.error(error);
                    alert("Failed to send message. Please try again.");
                });
        });
    </script>
    <script src="contact.js"></script>
</body>

</html>